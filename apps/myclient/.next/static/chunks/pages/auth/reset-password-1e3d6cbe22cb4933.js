(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[864],{5669:(e,t,s)=>{e.exports=s(4807)},6971:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(6029),r=s(5669),o=s.n(r),n=s(5729),l=s(1278),i=s(5054);function c(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[p,m]=(0,n.useState)(null),[w,f]=(0,n.useState)(null),[g,b]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=!0;return(async()=>{let{data:t}=await i.N.auth.getSession();if(e&&t.session){c(!0),s(!0);return}if("function"==typeof i.N.auth.exchangeCodeForSession){await i.N.auth.exchangeCodeForSession(window.location.href);let{data:t}=await i.N.auth.getSession();e&&t.session&&c(!0)}e&&s(!0)})(),()=>{e=!1}},[]);let v=async t=>{if(t.preventDefault(),f(null),m(null),!d||d.length<8)return void f("Password must be at least 8 characters.");if(d!==x)return void f("Passwords do not match.");b(!0);let{error:s}=await i.N.auth.updateUser({password:d});if(s){f(s.message),b(!1);return}m("Password updated. Redirecting to sign in…"),setTimeout(()=>e.replace("/auth/sign-in"),800)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("title",{children:"MyClient | Reset Password"})}),(0,a.jsx)("div",{className:"min-h-screen bg-[var(--surface-0)] px-6 py-20 text-[color:var(--text-1)]",children:(0,a.jsxs)("div",{className:"mx-auto max-w-md rounded-3xl border border-white/10 bg-[var(--surface-1)] p-8 shadow-2xl",children:[(0,a.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Reset password"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-[color:var(--text-2)]",children:"Set a new password for your account."}),t?r?(0,a.jsxs)("form",{onSubmit:v,className:"mt-6 space-y-4",children:[(0,a.jsxs)("label",{className:"block text-sm text-[color:var(--text-2)]",children:["New password",(0,a.jsx)("input",{type:"password",value:d,onChange:e=>u(e.target.value),className:"mt-2 w-full rounded-lg border border-white/10 bg-[var(--surface-0)] px-3 py-2 text-white outline-none focus:ring-2 focus:ring-[color:var(--accent)]",required:!0})]}),(0,a.jsxs)("label",{className:"block text-sm text-[color:var(--text-2)]",children:["Confirm password",(0,a.jsx)("input",{type:"password",value:x,onChange:e=>h(e.target.value),className:"mt-2 w-full rounded-lg border border-white/10 bg-[var(--surface-0)] px-3 py-2 text-white outline-none focus:ring-2 focus:ring-[color:var(--accent)]",required:!0})]}),w&&(0,a.jsx)("p",{className:"text-sm text-red-300",children:w}),p&&(0,a.jsx)("p",{className:"text-sm text-green-300",children:p}),(0,a.jsx)("button",{type:"submit",disabled:g,className:"w-full rounded-lg bg-[color:var(--accent-light)] px-4 py-2 text-sm font-semibold text-white hover:bg-[color:var(--accent)] disabled:opacity-60",children:g?"Updating…":"Update password"})]}):(0,a.jsx)("p",{className:"mt-6 text-[color:var(--text-2)]",children:"Invalid or expired reset link."}):(0,a.jsx)("p",{className:"mt-6 text-[color:var(--text-2)]",children:"Loading..."})]})})]})}},8113:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/reset-password",function(){return s(6971)}])}},e=>{e.O(0,[636,593,792],()=>e(e.s=8113)),_N_E=e.O()}]);