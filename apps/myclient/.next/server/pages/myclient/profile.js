(()=>{var a={};a.id=221,a.ids=[220,221,636],a.modules={361:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},1884:(a,b,c)=>{"use strict";c.r(b),c.d(b,{config:()=>w,default:()=>s,getServerSideProps:()=>v,getStaticPaths:()=>u,getStaticProps:()=>t,handler:()=>E,reportWebVitals:()=>x,routeModule:()=>D,unstable_getServerProps:()=>B,unstable_getServerSideProps:()=>C,unstable_getStaticParams:()=>A,unstable_getStaticPaths:()=>z,unstable_getStaticProps:()=>y});var d={};c.r(d),c.d(d,{default:()=>q});var e=c(2636),f=c(4850),g=c(3410),h=c(9382),i=c(2627),j=c(8732),k=c(9247),l=c.n(k),m=c(953),n=c.n(m),o=c(2015),p=c(484);function q(){let[a,b]=(0,o.useState)(!0),[c,d]=(0,o.useState)(null),[e,f]=(0,o.useState)(null),[g,h]=(0,o.useState)(""),[i,k]=(0,o.useState)(null),[m,q]=(0,o.useState)(null),r=async()=>{k(null),q(null);let{data:a,error:b}=await p.N.auth.getSession();if(b||!a.session?.access_token)return void q(b?.message||"Please sign in.");let c=await fetch("/api/myclient/profile/update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a.session.access_token}`},body:JSON.stringify({full_name:g})}),d=await c.json().catch(()=>({}));if(!c.ok||!d.ok)return void q(d.error||"Unable to update profile.");k("Saved")};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l(),{children:(0,j.jsx)("title",{children:"MyClient | Profile"})}),(0,j.jsxs)("div",{className:"mx-auto max-w-6xl rounded-2xl border border-[color:var(--border)] bg-[var(--surface-1)] p-8 shadow-sm",children:[(0,j.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,j.jsx)(n(),{href:"/myclient/app",className:"text-sm text-[color:var(--muted)] hover:text-white transition",children:"â† Back"}),(0,j.jsx)("h1",{className:"text-3xl font-semibold text-white",children:"Profile"})]}),(0,j.jsx)("p",{className:"mt-2 text-sm text-[color:var(--muted)]",children:"Update your display name for your firm."}),a?(0,j.jsx)("p",{className:"mt-6 text-[color:var(--muted)]",children:"Loading..."}):(0,j.jsxs)("div",{className:"mt-6 space-y-4",children:[c&&(0,j.jsxs)("p",{className:"text-sm text-[color:var(--muted)]",children:["Signed in as ",c]}),e&&(0,j.jsxs)("p",{className:"text-sm text-[color:var(--muted)]",children:["User ID: ",e.slice(0,8)]}),(0,j.jsxs)("label",{className:"block text-sm font-semibold text-white",children:["Full name",(0,j.jsx)("input",{type:"text",value:g,onChange:a=>h(a.target.value),className:"mt-2 w-full rounded-lg border border-[color:var(--border)] bg-[var(--surface-0)] px-4 py-3 text-white outline-none focus:ring-2 focus:ring-[color:var(--accent)]",placeholder:"Your name"})]}),(0,j.jsx)("button",{onClick:r,className:"rounded-lg bg-[color:var(--accent-light)] px-4 py-2 text-sm font-semibold text-white hover:bg-[color:var(--accent)]",children:"Save"}),i&&(0,j.jsx)("p",{className:"text-sm text-green-300",children:i}),m&&(0,j.jsx)("p",{className:"text-sm text-red-300",children:m})]})]})]})}var r=c(6104);let s=(0,g.M)(d,"default"),t=(0,g.M)(d,"getStaticProps"),u=(0,g.M)(d,"getStaticPaths"),v=(0,g.M)(d,"getServerSideProps"),w=(0,g.M)(d,"config"),x=(0,g.M)(d,"reportWebVitals"),y=(0,g.M)(d,"unstable_getStaticProps"),z=(0,g.M)(d,"unstable_getStaticPaths"),A=(0,g.M)(d,"unstable_getStaticParams"),B=(0,g.M)(d,"unstable_getServerProps"),C=(0,g.M)(d,"unstable_getServerSideProps"),D=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/myclient/profile",pathname:"/myclient/profile",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:i.default,Document:h.default},userland:d}),E=(0,r.U)({srcPage:"/myclient/profile",config:w,userland:d,routeModule:D,getStaticPaths:u,getStaticProps:t,getServerSideProps:v})},2015:a=>{"use strict";a.exports=require("react")},2326:a=>{"use strict";a.exports=require("react-dom")},3873:a=>{"use strict";a.exports=require("path")},3939:a=>{"use strict";a.exports=require("@supabase/supabase-js")},4075:a=>{"use strict";a.exports=require("zlib")},6060:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},7910:a=>{"use strict";a.exports=require("stream")},8732:a=>{"use strict";a.exports=require("react/jsx-runtime")},9021:a=>{"use strict";a.exports=require("fs")},9247:(a,b,c)=>{a.exports=c(6186)},9382:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>f});var d=c(8732),e=c(6030);function f(){return(0,d.jsxs)(e.Html,{lang:"en",children:[(0,d.jsx)(e.Head,{children:(0,d.jsx)("link",{rel:"icon",href:"/favicon.svg",type:"image/svg+xml"})}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.Main,{}),(0,d.jsx)(e.NextScript,{})]})]})}}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[978,708,30,791,627],()=>b(b.s=1884));module.exports=c})();